---
title: "구문에러-논리연산자"
date: 2020-10-09 15:53:28 -0400
categories: Javascript
---

{} || "hello" 구문에러 (포스트를 읽고 난 후의 개인적인 해석)
---

``` javascript
{} || "hello"; // Uncaught SyntaxError: Unexpected token '||'
```
해당 문법적 에러가 나는 이유를 알기 위해 자바스크립트에서 {}(중괄호)가 쓰이는 경우를 알아야합니다.

자바스크립트 {} <= 중괄호가 쓰이는 경우
---
1. 객체를 만들 때 (var a = {};)
2. 함수를 정의할 때 (function foo() {실행문})
3. for문, if문에 실행문을 작성할 때 (for(var i =0; i<5; i++){실행문})

왜 에러가 나는가?
---
위와 같은 3가지 유형처럼 다양한 곳에서 {}가 쓰이게 됩니다. <br>
구문에러가 났던 ``` {} || "hello"```와 같은 형태로 {}를 단독적으로 호출하게 되면 자바스크립트에서 파싱을 할 때<br>
원래 저희가 의도했던 ```빈 객체```로서 해석(파싱?)하는 것이 아닌 ```블록문 for문과 if문에서의 {}```와 같이 해석하게 됩니다.<br>
사실상 하기의 코드와 동일한겁니다.
``` javascript
if (i > 0) {
    console.log("a");
} || "hello"; // Uncaught SyntaxError: Unexpected token '||'
```
자바스크립트는 위 코드에서 제일 먼저 if문을 확인하게 됩니다. 쭉쭉 읽으면서 ||(OR 논리연산자)를 만나게 됩니다.<br>
이 때 ```if문 다음에 || 이 토큰이 나올 수 없다. 예기치않은 토큰이다.```라고 판별하여 에러가 나타나게 됩니다.<br>
그렇기에 이를 해결하기 위해 아래와 같은 코드 예시가 있습니다.
``` javascript
({}) || "hello"; // {}

var a = {};
a || "hello" // {}
```
자바스크립트가 {} 중괄호를 빈 객체, 객체 리터럴 방식으로 해석하기를 바란다면 ()로 감싸주거나, <br>
아예 객체 리터럴 방식으로 객체 생성 후 해당 변수를 논리 연산자에서 비교하면 에러 발생 없이 정상적으로 결과값이 나옵니다.<br>

그렇다면 반대로 했을 경우에는 왜 되는가? (위에 내용을 정리하면서 의문이 들었던 점)
---
``` javascript
"hello" && {}; // {}
```
위 코드는 정상적으로 동작했습니다. 똑같이 단독적으로 {} 중괄호만을 사용했는데 결과값이 의도했던 대로 출력됬습니다.<br>
꽤 오랜 시간 생각을 하였고, 나름대로의 해석으로 타당한? 이유를 떠올리게 되었습니다.<br>
"hello"는 기본적으로 문자열이며, 문자열 다음에 논리 연산자가 나타난 것은 문법적으로 문제가 없습니다.<br>
그렇다면 파싱하는 과정에서 뒤에 요소를 다르게 해석할 여지가 없이 Truthy값인지? falsy 값인지를 체크 하면 됩니다.<br> 
이 후 중괄호만을 독단적으로 사용하더라도 이를 빈 객체 즉 Truthy로 판별하여, 값을 정상적으로 출력하였다! 라고 결론을 내렸습니다.<br>

